<?xml version="1.0"?>

<!DOCTYPE overlay SYSTEM "chrome://booky/locale/booky.dtd">

<bindings xmlns="http://www.mozilla.org/xbl" xmlns:xbl="http://www.mozilla.org/xbl"
	xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">

	<binding id="launcher">
		<content draggable="true" ondragstart="js.dragstart(event);"
			ondragend="js.dragend(event);">
			<xul:toolbarbutton class="launcher" anonid="toolbarbutton"
				image="chrome://mozapps/skin/places/defaultFavicon.png" container="true"
				xbl:inherits="image,type" onmouseenter="js.mouseenter();" onmouseleave="js.mouseleave();"
				style="-moz-user-focus: normal;" oncontextmenu="return false;" oncommand="js.command();" orient="vertical">

				<xul:stack validate="always">
					<xul:image class="toolbarbutton-icon launcher-icon" xbl:inherits="validate,src=image,label,type" />
					<xul:image class="launcher-connector" />
				</xul:stack>

				<xul:label xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
					class="toolbarbutton-text" crop="right" flex="1"
					xbl:inherits="value=label,accesskey,crop,dragover-top" xmlns:xbl="http://www.mozilla.org/xbl" />

				<xul:hbox anonid="launcher-countindicators" class="launcher-countindicators">
					<xul:box class="launcher-countindicator-two" />
					<xul:box class="launcher-countindicator-one" />
				</xul:hbox>
			</xul:toolbarbutton>
		</content>

		<implementation>

			<method name="setJavaScriptObject">
				<parameter name="aObj" />
				<body><![CDATA[ this.js = aObj; ]]></body>
			</method>

		</implementation>
	</binding>
</bindings>